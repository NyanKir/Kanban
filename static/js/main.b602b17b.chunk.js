(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{21:function(e,n,t){e.exports=t(34)},33:function(e,n,t){},34:function(e,n,t){"use strict";t.r(n);var a=t(12),r=t(1),s=t(5),o=t(6),c=t(4),i=t(8),u=t(7),l=t(2),d=t(0),p=t.n(d),m=t(10),b=t.n(m),f=t(9),h={tasks:{"task-1":{id:"task-1",content:"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0432\u0442\u0440\u0430\u043a"},"task-2":{id:"task-2",content:"\u0421\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"},"task-3":{id:"task-3",content:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},"task-4":{id:"task-4",content:"\u041f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u0443\u0436\u0438\u043d"}},columns:{"columns-1":{id:"columns-1",title:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",tasksIDs:["task-1","task-2","task-3","task-4"]},"columns-2":{id:"columns-2",title:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",tasksIDs:[]},"columns-3":{id:"columns-3",title:"\u0421\u0434\u0435\u043b\u0430\u043d\u043e",tasksIDs:[]}},columnOrder:["columns-1","columns-2","columns-3"]},v=t(3);function g(){var e=Object(l.a)(["\n    display:flex;\n    justify-content:space-between;\n    align-items:center;\n    border: 1px solid lightgray;\n    margin-bottom: 9px;\n    padding: 8px;\n    background-color: ",";\n"]);return g=function(){return e},e}var k=v.a.div(g(),(function(e){return e.isDragging?"lightgreen":"white"})),O=function(e){Object(i.a)(t,e);var n=Object(u.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e=this;return p.a.createElement(f.b,{draggableId:this.props.task.id,index:this.props.index},(function(n,t){return p.a.createElement(k,Object.assign({},n.draggableProps,n.dragHandleProps,{ref:n.innerRef,isDragging:t.isDragging}),p.a.createElement("span",null,e.props.task.content),p.a.createElement(G,{onClick:function(){return e.props.removeTask(e.props.task,e.props.column,e.props.index)}},"\xd7"))}))}}]),t}(p.a.Component);function j(){var e=Object(l.a)(["\n    border-radius: 2px;\n    padding: 5px 15px;\n    background: ",";\n    cursor:pointer;\n     \n"]);return j=function(){return e},e}function x(){var e=Object(l.a)(["\n    margin-top: 3px;\n    justify-content: space-between;\n    display: flex;\n"]);return x=function(){return e},e}function y(){var e=Object(l.a)(["\n    width: -webkit-fill-available;\n    resize: vertical;\n    border: 1px solid lightgrey;\n    border-radius: 2px;\n    outline:none;\n    box-shadow: 0 0 5px ",";\n\n"]);return y=function(){return e},e}function w(){var e=Object(l.a)(["\n        padding:8px;\n"]);return w=function(){return e},e}var E=v.a.div(w()),C=v.a.textarea(y(),(function(e){return e.error?"red":"#00abfa"})),I=v.a.div(x()),D=v.a.div(j(),(function(e){return e.primary?"lightgreen":"palevioletred"})),T=function(e){Object(i.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(s.a)(this,t),(a=n.call(this,e)).state={value:"",error:!1},a.handleChange=a.handleChange.bind(Object(c.a)(a)),a.handlerTextarea=a.handlerTextarea.bind(Object(c.a)(a)),a}return Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handlerTextarea",value:function(){this.props.addNewTask(this.props.column,this.state.value)?this.setState({error:!0}):(this.setState({error:!1}),this.props.changeShow())}},{key:"render",value:function(){var e=this;return p.a.createElement(E,null,p.a.createElement(C,{value:this.state.value,onChange:this.handleChange,error:this.state.error}),p.a.createElement(I,null,p.a.createElement(D,{primary:!0,onClick:function(){return e.handlerTextarea()}},"\u0413\u043e\u0442\u043e\u0432\u043e"),p.a.createElement(D,{onClick:function(){return e.props.changeShow()}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),t}(p.a.Component);function S(){var e=Object(l.a)(["\n    height: 25px;\n    display: flex;\n    align-items: center;\n    margin-right: 5px;\n    font-size:34px\n"]);return S=function(){return e},e}function N(){var e=Object(l.a)(["\n    display: flex;\n    align-items:center;\n    padding:8px;\n    cursor:pointer;\n    &:hover{\n        transition:.3s ease;\n        background-color:#b0b0b0;\n    }\n"]);return N=function(){return e},e}var F=v.a.div(N()),P=v.a.span(S()),R=function(e){Object(i.a)(t,e);var n=Object(u.a)(t);function t(e){var a;return Object(s.a)(this,t),(a=n.call(this,e)).state={showForm:!1},a.changeShow=a.changeShow.bind(Object(c.a)(a)),a}return Object(o.a)(t,[{key:"changeShow",value:function(){this.setState({showForm:!this.state.showForm})}},{key:"render",value:function(){var e=this;return this.state.showForm?p.a.createElement(T,{addNewTask:this.props.addNewTask,column:this.props.column,changeShow:this.changeShow}):p.a.createElement(F,{onClick:function(){return e.changeShow()}},p.a.createElement(P,null,"+"),p.a.createElement("span",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0435"))}}]),t}(p.a.Component);function z(){var e=Object(l.a)(["\n    cursor:pointer;\n    display: flex;\n    align-items: center;\n    margin-right: 5px;\n    font-size:34px;    \n    transition:.3s; \n    height: ",";\n    \n\n    &:hover{\n        transition:.3s;\n        color:palevioletred;\n    }\n"]);return z=function(){return e},e}function A(){var e=Object(l.a)(["\n    overflow-y:scroll;\n    max-height:70vh;\n    padding: 8px;\n    display: flex;\n    flex-direction: column;\n    justify-content:space-between;\n    transition: background-color .2s ease;\n    background-color: ",";\n"]);return A=function(){return e},e}function B(){var e=Object(l.a)(["\n    padding:8px;\n    display: flex;\n    justify-content:space-between\n"]);return B=function(){return e},e}function H(){var e=Object(l.a)(["\nwhite-space: pre;\n    transition:background-color .3s ease;\n    background-color: #cfcfcf;\n    height: fit-content;\n    max-width: 300px;\n    width: 300px;\n    margin: 0px 8px;\n    border: 1px solid lightgrey;\n    border-radius: 2px;\n"]);return H=function(){return e},e}var J=v.a.div(H()),M=v.a.div(B()),q=v.a.div(A(),(function(e){return e.isDraggingOver?"skyblue":"white"})),G=v.a.span(z(),(function(e){return e.primary?"auto":"20px"})),K=function(e){Object(i.a)(t,e);var n=Object(u.a)(t);function t(){return Object(s.a)(this,t),n.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e=this;return p.a.createElement(f.b,{draggableId:this.props.column.id,index:this.props.index},(function(n){return p.a.createElement(J,Object.assign({},n.draggableProps,{ref:n.innerRef}),p.a.createElement(M,n.dragHandleProps,p.a.createElement("h3",null,e.props.column.title),p.a.createElement(G,{onClick:function(){return e.props.removeColumn(e.props.column,e.props.index)},primary:!0},"\xd7")),p.a.createElement(f.c,{droppableId:e.props.column.id,type:"mask"},(function(n,t){return p.a.createElement(q,Object.assign({ref:n.innerRef},n.droppableProps,{isDraggingOver:t.isDraggingOver}),e.props.tasks.map((function(n,t){return p.a.createElement(O,{key:n.id,task:n,index:t,removeTask:e.props.removeTask,column:e.props.column})})),n.placeholder)})),p.a.createElement(R,{addNewTask:e.props.addNewTask,column:e.props.column}))}))}}]),t}(p.a.Component);t(33);function L(){var e=Object(l.a)(["\n    max-width: 300px;\n    min-width: 300px;\n    background: #cfcfcf;\n    border-radius: 2px;\n    height: fit-content;\n"]);return L=function(){return e},e}function Q(){var e=Object(l.a)(["\n    display:flex;\n    font-family: Roboto,-apple-system,BlinkMacSystemFont,sans-serif;\n    \n"]);return Q=function(){return e},e}function U(){var e=Object(l.a)(["\n    display:flex;\n"]);return U=function(){return e},e}var V=v.a.div(U()),W=v.a.div(Q()),X=v.a.div(L()),Y=function(e){Object(i.a)(t,e);var n=Object(u.a)(t);function t(e){var o;return Object(s.a)(this,t),(o=n.call(this,e)).addNewTask=function(e,n){if(!n)return!0;var t,a=Object.keys(o.state.tasks).slice(-1)[0];t=void 0===a?"task-1":"task-".concat(parseInt(a[a.length-1])+1);var s=o.state.tasks,c=o.state.columns;s[t]={id:t,content:n},e.tasksIDs.push(t),c[e.id]=e;var i=Object(r.a)(Object(r.a)({},o.state),{},{tasks:s,columns:c});o.setState(i)},o.onDragEnd=function(e){var n,t=e.destination,s=e.source,c=e.draggableId,i=e.type;if(console.log({destination:t,source:s,draggableId:c}),t&&(t.droppableId!==s.droppableId||t.index!==s.index))if("column"!==i){var u=o.state.columns[s.droppableId],l=o.state.columns[t.droppableId];if(u!==l){var d=Array.from(u.tasksIDs);d.splice(s.index,1);var p=Object(r.a)(Object(r.a)({},u),{},{tasksIDs:d}),m=Array.from(l.tasksIDs);m.splice(t.index,0,c);var b=Object(r.a)(Object(r.a)({},l),{},{tasksIDs:m}),f=Object(r.a)(Object(r.a)({},o.state),{},{columns:Object(r.a)(Object(r.a)({},o.state.columns),{},(n={},Object(a.a)(n,p.id,p),Object(a.a)(n,b.id,b),n))});o.setState(f)}else{var h=Array.from(u.tasksIDs);h.splice(s.index,1),h.splice(t.index,0,c);var v=Object(r.a)(Object(r.a)({},u),{},{tasksIDs:h}),g=Object(r.a)(Object(r.a)({},o.state),{},{columns:Object(r.a)(Object(r.a)({},o.state.columns),{},Object(a.a)({},v.id,v))});o.setState(g)}}else{var k=Array.from(o.state.columnOrder);k.splice(s.index,1),k.splice(t.index,0,c);var O=Object(r.a)(Object(r.a)({},o.state),{},{columnOrder:k});o.setState(O)}},o.state=h,o.onDragEnd=o.onDragEnd.bind(Object(c.a)(o)),o.addNewTask=o.addNewTask.bind(Object(c.a)(o)),o.removeColumn=o.removeColumn.bind(Object(c.a)(o)),o.removeTask=o.removeTask.bind(Object(c.a)(o)),o.addColumn=o.addColumn.bind(Object(c.a)(o)),o}return Object(o.a)(t,[{key:"addColumn",value:function(e,n){if(!n)return!0;this.setState((function(e){var t,a=e.columnOrder,s={};return t=0!==a.length?"columns-".concat(parseFloat(a.slice(-1)[0].slice(-1))+1):"columns-1",a.push(t),s[t]={id:t,title:n,tasksIDs:[]},Object(r.a)(Object(r.a)({},e),{},{columns:Object(r.a)(Object(r.a)({},e.columns),s),columnOrder:a})}))}},{key:"removeColumn",value:function(e,n){delete this.state.columns[e.id],this.state.columnOrder.splice(n,1),this.setState(Object(r.a)({},this.state))}},{key:"removeTask",value:function(e,n,t){this.setState((function(a){return delete a.tasks[e.id],n.tasksIDs.splice(t,1),Object(r.a)(Object(r.a)({},a),{},{columns:Object(r.a)(Object(r.a)({},a.columns),{},{column:n})})}))}},{key:"render",value:function(){var e=this;return p.a.createElement(W,null,p.a.createElement(f.a,{onDragEnd:this.onDragEnd},p.a.createElement(f.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},(function(n){return p.a.createElement(V,Object.assign({},n.droppableProps,{ref:n.innerRef}),e.state.columnOrder.map((function(n,t){var a=e.state.columns[n],r=a.tasksIDs.map((function(n){return e.state.tasks[n]}));return p.a.createElement(K,{tasks:r,column:a,key:n,index:t,addNewTask:e.addNewTask,removeTask:e.removeTask,removeColumn:e.removeColumn})})),n.placeholder)}))),p.a.createElement(X,null,p.a.createElement(R,{addNewTask:this.addColumn,column:!0})))}}]),t}(p.a.Component);b.a.render(p.a.createElement(Y,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.b602b17b.chunk.js.map